import gsap from 'gsap';
import { ScrollTrigger, SplitText } from 'gsap/all';
import React, { useEffect } from 'react'
import Mockup from './mockup'
import TimelinePath from './TimelinePath';

gsap.registerPlugin(SplitText, ScrollTrigger);


const ProblemState = () => {
    useEffect(() => {
        let split = SplitText.create(".splitText-prob", { type: "lines" });
        gsap.from(split.lines, {
            duration: 0.4,
            x: 40,  
            autoAlpha: 0,
            stagger: 0.05, 
            scrollTrigger: {
                // scrub:true
                trigger: ".wrapper-prob",
                start: "top 80%",
                // end:"bottom bottom",
                // markers:true
            }
        })
        gsap.from(".social-wrapper", {
            x: -40,
            opacity: 0,
            duration: 2.1,
            scrollTrigger: {
                trigger: ".wrapper-prob",
                start: "top 80%",

            }
        })
    }, [])
    return (
        <div className='wrapper-prob my-64'>
            <div className='flex flex-col gap-44 justify-center items-center mb-64 md:flex-row'>
                <div className='social-wrapper text-txt-light dark:text-txt-dark'>
                    <div className='flex gap-3 items-center justify-center w-fit mx-auto mb-3 '>
                        <div className=''>
                            <svg width="40" height="40" viewBox="0 0 134 134" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M66.5369 0C48.4665 0 46.2006 0.0766603 39.1037 0.400337C32.0216 0.723419 27.1849 1.84836 22.9525 3.4929C18.5771 5.19329 14.8665 7.46853 11.1676 11.1674C7.46853 14.8663 5.19329 18.5773 3.49309 22.9527C1.84817 27.1849 0.723617 32.0216 0.400139 39.1037C0.0764622 46.2006 0 48.4665 0 66.5369C0 84.607 0.0764622 86.8729 0.400139 93.9698C0.723617 101.052 1.84817 105.889 3.49309 110.121C5.19349 114.496 7.46873 118.207 11.1676 121.906C14.8667 125.605 18.5771 127.88 22.9525 129.581C27.1849 131.225 32.0216 132.35 39.1037 132.673C46.2006 132.997 48.4665 133.074 66.5369 133.074C84.607 133.074 86.8729 132.997 93.9698 132.673C101.052 132.35 105.889 131.225 110.121 129.581C114.496 127.88 118.207 125.605 121.906 121.906C125.605 118.207 127.88 114.496 129.581 110.121C131.225 105.889 132.35 101.052 132.673 93.9698C132.997 86.8729 133.074 84.607 133.074 66.5369C133.074 48.4665 132.997 46.2006 132.673 39.1037C132.35 32.0216 131.225 27.1849 129.581 22.9527C127.88 18.5773 125.605 14.8663 121.906 11.1674C118.207 7.46853 114.496 5.19329 110.121 3.4929C105.889 1.84836 101.052 0.723419 93.9698 0.400337C86.8729 0.0766603 84.607 0 66.5369 0ZM66.5369 11.9885C84.3027 11.9885 86.4072 12.0565 93.4233 12.3766C99.9107 12.6723 103.434 13.7563 105.778 14.6675C108.884 15.8746 111.101 17.3163 113.429 19.6446C115.757 21.973 117.199 24.1896 118.406 27.2952C119.317 29.6398 120.401 33.163 120.697 39.6502C121.017 46.6663 121.085 48.7708 121.085 66.5368C121.085 84.3027 121.017 86.4072 120.697 93.4233C120.401 99.9107 119.317 103.434 118.406 105.778C117.199 108.884 115.757 111.101 113.429 113.429C111.101 115.757 108.884 117.199 105.778 118.406C103.434 119.317 99.9105 120.401 93.4233 120.697C86.4084 121.017 84.3041 121.085 66.5368 121.085C48.7694 121.085 46.6655 121.017 39.6502 120.697C33.1628 120.401 29.6398 119.317 27.2954 118.406C24.1894 117.199 21.973 115.757 19.6448 113.429C17.3165 111.101 15.8746 108.884 14.6675 105.778C13.7563 103.434 12.6725 99.9105 12.3766 93.4233C12.0565 86.4072 11.9885 84.3027 11.9885 66.5368C11.9885 48.7708 12.0565 46.6663 12.3766 39.6502C12.6725 33.1628 13.7563 29.6398 14.6675 27.2954C15.8746 24.1894 17.3165 21.973 19.6446 19.6448C21.973 17.3163 24.1896 15.8746 27.2952 14.6675C29.6398 13.7563 33.163 12.6723 39.6502 12.3766C46.6663 12.0565 48.7708 11.9885 66.5368 11.9885" fill="currentColor" />
                                <path d="M66.537 88.7157C54.2876 88.7157 44.3578 78.7859 44.3578 66.5369C44.3578 54.2875 54.2876 44.3577 66.537 44.3577C78.786 44.3577 88.7157 54.2875 88.7157 66.5369C88.7157 78.7859 78.786 88.7157 66.537 88.7157ZM66.537 32.3692C47.6664 32.3692 32.3693 47.6664 32.3693 66.5369C32.3693 85.407 47.6664 100.704 66.537 100.704C85.4071 100.704 100.704 85.407 100.704 66.5369C100.704 47.6664 85.4071 32.3692 66.537 32.3692ZM110.039 31.0193C110.039 35.4291 106.464 39.0036 102.054 39.0036C97.6448 39.0036 94.0699 35.4291 94.0699 31.0193C94.0699 26.6096 97.6448 23.0347 102.054 23.0347C106.464 23.0347 110.039 26.6096 110.039 31.0193Z" fill="currentColor" />
                            </svg>

                        </div>
                        <div>
                            <svg width="40" hanging="40" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                                <path d="M544.5 273.9C500.5 274 457.5 260.3 421.7 234.7L421.7 413.4C421.7 446.5 411.6 478.8 392.7 506C373.8 533.2 347.1 554 316.1 565.6C285.1 577.2 251.3 579.1 219.2 570.9C187.1 562.7 158.3 545 136.5 520.1C114.7 495.2 101.2 464.1 97.5 431.2C93.8 398.3 100.4 365.1 116.1 336C131.8 306.9 156.1 283.3 185.7 268.3C215.3 253.3 248.6 247.8 281.4 252.3L281.4 342.2C266.4 337.5 250.3 337.6 235.4 342.6C220.5 347.6 207.5 357.2 198.4 369.9C189.3 382.6 184.4 398 184.5 413.8C184.6 429.6 189.7 444.8 199 457.5C208.3 470.2 221.4 479.6 236.4 484.4C251.4 489.2 267.5 489.2 282.4 484.3C297.3 479.4 310.4 469.9 319.6 457.2C328.8 444.5 333.8 429.1 333.8 413.4L333.8 64L421.8 64C421.7 71.4 422.4 78.9 423.7 86.2C426.8 102.5 433.1 118.1 442.4 131.9C451.7 145.7 463.7 157.5 477.6 166.5C497.5 179.6 520.8 186.6 544.6 186.6L544.6 274z" fill='currentColor' />
                            </svg>
                        </div>
                    </div>
                    <div className='flex gap-3 items-center justify-center w-fit mx-auto '>
                        <div>
                            <svg width="40" height="40" viewBox="0 0 164 163" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M120.552 31.9336L120.185 31.832C116.461 30.8022 107.45 29.7822 102.225 29.7822C88.4547 29.7822 78.2905 33.0242 71.5762 39.8643C64.8638 46.7025 61.6924 57.0427 61.6924 71.0283V81.2998H44.7832V107.297H61.6924V160.548C26.5077 151.543 0.500192 119.702 0.5 81.7998C0.5 36.9009 36.988 0.5 82 0.5C127.012 0.500002 163.5 36.9009 163.5 81.7998C163.5 123.172 132.517 157.323 92.4385 162.433V107.297H114.537L114.612 106.888L119.215 81.8896L119.323 81.2998H92.4385V72.959C92.4385 66.4015 93.7311 61.9969 96.5664 59.2168C99.4043 56.4342 103.9 55.168 110.579 55.168C114.753 55.168 118.092 55.2698 119.999 55.4697L120.552 55.5273V31.9336Z" stroke="black" />
                            </svg>

                        </div>
                        <div>
                            <svg width="40" height="40" viewBox="0 0 360 362" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M307.546 52.5655C273.709 18.685 228.706 0.0171895 180.756 0C81.951 0 1.53846 80.404 1.50408 179.235C1.48689 210.829 9.74646 241.667 25.4319 268.844L0 361.736L95.0236 336.811C121.203 351.096 150.683 358.616 180.679 358.625H180.756C279.544 358.625 359.966 278.212 360 179.381C360.017 131.483 341.392 86.4547 307.546 52.5741V52.5655ZM180.756 328.354H180.696C153.966 328.346 127.744 321.16 104.865 307.589L99.4242 304.358L43.034 319.149L58.0834 264.168L54.5423 258.53C39.6304 234.809 31.749 207.391 31.7662 179.244C31.8006 97.1036 98.6334 30.2707 180.817 30.2707C220.61 30.2879 258.015 45.8015 286.145 73.9665C314.276 102.123 329.755 139.562 329.738 179.364C329.703 261.513 262.871 328.346 180.756 328.346V328.354ZM262.475 216.777C257.997 214.534 235.978 203.704 231.869 202.209C227.761 200.713 224.779 199.966 221.796 204.452C218.814 208.939 210.228 219.029 207.615 222.011C205.002 225.002 202.389 225.372 197.911 223.128C193.434 220.885 179.003 216.158 161.891 200.902C148.578 189.024 139.587 174.362 136.975 169.875C134.362 165.389 136.7 162.965 138.934 160.739C140.945 158.728 143.412 155.505 145.655 152.892C147.899 150.279 148.638 148.406 150.133 145.423C151.629 142.432 150.881 139.82 149.764 137.576C148.646 135.333 139.691 113.287 135.952 104.323C132.316 95.5909 128.621 96.777 125.879 96.6309C123.266 96.5019 120.284 96.4762 117.293 96.4762C114.302 96.4762 109.454 97.5935 105.346 102.08C101.238 106.566 89.6691 117.404 89.6691 139.441C89.6691 161.478 105.716 182.785 107.959 185.776C110.202 188.767 139.544 234.001 184.469 253.408C195.153 258.023 203.498 260.782 210.004 262.845C220.731 266.257 230.494 265.776 238.212 264.624C246.816 263.335 264.71 253.786 268.44 243.326C272.17 232.866 272.17 223.893 271.053 222.028C269.936 220.163 266.945 219.037 262.467 216.794L262.475 216.777Z" fill="currentColor" />
                            </svg>

                        </div>
                    </div>
                </div>
                <div className='splitText-prob text-txt-light dark:text-txt-dark text-3xl font-semibold w-69 leading-tighter'><p>Social media was built for the public. MemoryLink is built for <i>you</i>.</p></div>
            </div>
            <div className='space-y-49 flex flex-col items-center'>
                <TimelinePath />

                <Mockup title='Beyond the Group Chat' body='Group chats are messy. Photos get buried under text and links. We give your memories a dedicated home where they can breathe.' />
                <Mockup reverse={true} title='Connection, Not Attention' body='No likes, no follower counts, no performative posting. Just a private timeline shared strictly between you and your inner circle.' />
                <Mockup title='Low-Pressure Streaks' body='A gamified experience that feels like nurturing a garden, not fighting a fire. Build a habit of connection without the anxiety.' />
            </div>
        </div>
    )
}

export default ProblemState
